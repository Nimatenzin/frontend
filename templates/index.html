{% extends 'base.html' %} {% load static %} {% block content %}
<body>



    <!--======================================== 

           Preloader

    ========================================-->

    <div class="page-preloader">

        <div class="spinner">

            <div class="rect1"></div>

            <div class="rect2"></div>

            <div class="rect3"></div>

            <div class="rect4"></div>

            <div class="rect5"></div>

        </div>

    </div>

    <!--======================================== 

           Header

    ========================================-->



    <!--//** Navigation**//-->

    <nav class="navbar navbar-default navbar-fixed white no-background bootsnav navbar-scrollspy" data-minus-value-desktop="70" data-minus-value-mobile="55" data-speed="1000">



        <div class="container">

            <!-- Start Header Navigation -->

            <div class="navbar-header">

                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-menu">

                    <i class="fa fa-bars"></i>

                </button>

                <a class="navbar-brand" href="#brand">

                    <h3 class="logo" alt="logo" style="color: #44c5ee;">HR Managment System</h3>

                </a>

            </div>

            <!-- End Header Navigation -->



            <!-- Collect the nav links, forms, and other content for toggling -->

            <div class="collapse navbar-collapse" id="navbar-menu">

                <ul class="nav navbar-nav navbar-right">

                    <li class="active scroll"><a href="#home">Home</a></li>

                    <li class="button-holder">

                        <button type="button" class="btn btn-blue navbar-btn" data-toggle="modal" data-target="#SignIn">Sign in</button>

                    </li>

                </ul>

            </div>

            <!-- /.navbar-collapse -->

        </div>

    </nav>



    <!--//** Banner**//-->

    <section id="home">

        <div class="container">

            <div class="row">

                <!-- Introduction -->

                <div class="col-md-6 caption">

                    <h1>Welcome To HR Managment System</h1>

                </div>

                <!-- Sign Up -->

                <div class="col-md-5 col-md-offset-1">
                    <form class="signup-form" method="POST" action="/employee/">

                        <h2 class="text-center">Employee Registration</h2>
                    
                        <hr>
                    
                        <div class="form-group">
                            <label for="name">Name:</label>
                            <input type="text" class="form-control" id="name" name="name" placeholder="Enter your name" required="required">
                        </div>
                    
                        <div class="form-group">
                            <label for="employee_id">Employee ID:</label>
                            <input type="text" class="form-control" id="employee_id" name="employee_id" placeholder="Enter your employee ID" required="required">
                        </div>
                    
                        <div class="form-group">
                            <label for="gender">Gender:</label>
                            <select class="form-control" id="gender" name="gender" required="required">
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                            </select>
                        </div>
                    
                        <div class="form-group">
                            <label for="dob">Date of Birth:</label>
                            <input type="text" class="form-control" id="dob" name="dob" placeholder="dd/mm/yyyy" required="required">
                        </div>
                    
                        <div class="form-group">
                            <label for="designation">Designation:</label>
                            <input type="text" class="form-control" id="designation" name="designation" placeholder="Enter your designation" required="required">
                        </div>
                    
                        <div class="form-group">
                            <label for="department">Department:</label>
                            <input type="text" class="form-control" id="department" name="department" placeholder="Enter your department" required="required">
                        </div>
                    
                        <div class="form-group">
                            <label for="appointment_date">Appointment Date:</label>
                            <input type="text" class="form-control" id="appointment_date" name="appointment_date" placeholder="dd/mm/yyyy" required="required">
                        </div>
                    
                        <div class="form-group text-center">
                            <button type="submit" class="btn btn-blue btn-block">Register</button>
                        </div>
                    
                    </form>

                </div>

            </div>

        </div>

    </section>
    
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const form = document.querySelector('.signup-form');

      form.addEventListener('submit', (e) => {
        e.preventDefault();

        const formData = new FormData(form);
        const registrationData = {};

        formData.forEach((value, key) => {
          registrationData[key] = value;
        });

        fetch('http://127.0.0.1:8000/employee/', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(registrationData),
        })
          .then(response => response.json())
          .then(data => {
            // Process the response data
            console.log(data);
            // You can display a success message or redirect to another page here
          })
          .catch(error => {
            // Handle any errors
            console.error('Error:', error);
            // Display an error message to the user
          });
      });
    });
  </script>

    {% endblock %}


